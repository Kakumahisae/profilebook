<% if @character.errors.any? %>
  <% @character.errors.full_messages.each do |message| %>
    <div class="error_message">
      <%= message %>
    </div>
  <% end %>
<% end %>

<%= @story.title %>
  <!--ここでform_with model: @character, url: story_characters_pathだとupdateもcreateもそこにとんでしまうのでmodelを二つ私邸で解決
<%= form_with model: [@story,@character], local: true do |f| %>
  <!--別解 <= f.hidden_field :story_id %>-->
  <%= f.hidden_field :story_id, :value => @story.id %>
  
  <div class="form-group">
    <%= f.label "名前", class: 'form_label' %>
    <%= f.text_field :name, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label "性別", class: 'form_label' %>
    <div class="textarea">
      <%= f.text_field :gender, class: 'form-control' %>
    </div>
  </div>
    
  
    <%= f.submit chara_button_text %>
  
<% end %>  